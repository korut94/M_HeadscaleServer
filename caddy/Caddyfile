https://headscale.korut94.net {
	@hs-options {
		host headscale.korut94.net
		method OPTIONS
	}
	@hs-other {
		host headscale.korut94.net
	}
	handle @hs-options {
		header {
			Access-Control-Allow-Origin https://admin.headscale.korut94.net
			Access-Control-Allow-Headers *
			Access-Control-Allow-Methods "POST, GET, OPTIONS, DELETE"
		}
		respond 204
	}
	handle @hs-other {
		reverse_proxy http://headscale:8080 {
			header_down Access-Control-Allow-Origin https://admin.headscale.korut94.net
			header_down Access-Control-Allow-Methods "POST, GET, OPTIONS, DELETE"
			header_down Access-Control-Allow-Headers *
		}
	}
}

https://admin.headscale.korut94.net {
	reverse_proxy http://headscale-ui:8080
}
